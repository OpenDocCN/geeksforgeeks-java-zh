# 安卓版谷歌地图

> 原文:[https://www.geeksforgeeks.org/google-maps-in-android/](https://www.geeksforgeeks.org/google-maps-in-android/)

地图非常有用，它提高了应用程序的生产力。谷歌地图应用编程接口允许安卓开发者将谷歌地图集成到他们的应用中。

以下是将谷歌地图集成到安卓应用程序的分步过程:

1.  转到[https://developers . Google . com/maps/documentation/Android-API/registration](https://developers.google.com/maps/documentation/android-api/signup)点击*【GET STARTED】*按钮如图:
    ![](img/9ef1aec626b90d34f89f9b76e1eb9709.png)
2.  现在选择地图复选框，点击继续按钮，如下所示:
    ![](img/9cb1df9acfa811c0918aec62118e445b.png)
3.  选择一个要启用谷歌地图应用编程接口的项目，然后单击下一步。将为所选项目生成一个新密钥。
    ![](img/daae07aeebf86c00abd441f19a76f658.png)
4.  跳过计费流程
5.  为了集成谷歌地图应用编程接口，你的机器的 SHA1 证书是必需的。因此要找到 SHA1 证书，请按照以下步骤操作:
    *   打开命令提示符，进入你的 Java bin 文件夹

        ```
        cd C:\Program Files\Java\jdk1.8.0_91\bin
        ```

    *   Give the following CMD command for getting Certificate Footprints:

        > keytool -list -v 密钥存储“%USERPROFILE%\”。Android \ debug . keystore "-别名 andidbogkey-store pass Android keypass

        ![](img/473270a7f05d365d61ed1a7700bacff9.png)

6.  前往[https://console.developers.google.com/apis/credentials](https://console.developers.google.com/apis/credentials)
7.  在 *API 键*部分，点击您想要选择的 API 键右侧的*铅笔按钮*，用于附加您的应用。
    ![](img/981db82a20e0b4a184381544ca011d9a.png)
8.  在应用限制中，选择安卓应用
    ![](img/94cad0915ab8c436e08b03af6765e5c4.png)
9.  点击添加包名和指纹
10.  输入您的应用程序的包名和在上述步骤中找到的指纹，然后单击保存按钮。
    ![](img/589d61e32dbf66d4ec20a583411113d6.png)
11.  在项目->应用->src ->构建.梯度->依赖项中插入以下内容

```
compile 'com.google.android.gms:play-services:11.6.0'
```

*   在 AndroidManifest.xml

    ```
    <meta-data
        android:name="com.google.android.gms.version"
        android:value="@integer/google_play_services_version" />
    <meta-data
        android:name="com.google.android.maps.v2.API_KEY"
        android:value="ENTER API_KEY GENERATED BY YOU IN ABOVE STEPS" />
    ```

    元素中添加以下声明*   在清单

    ```
    <uses-permission
            android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission
            android:name="android.permission.INTERNET" />
    <uses-permission
            android:name="android.permission.ACCESS_NETWORK_STATE" />
    ```

    中添加以下权限*   在 Manifest.xml

    ```
    <uses-feature
            android:glEsVersion="0x00020000"
            android:required="true"/>
    ```

    中指定以下规格*   在 ActivityMain.xml 中添加以下片段代码，以便将谷歌地图添加到您的活动中。

    ```
    <fragment
        android:id="@+id/map"
        class="com.google.android.gms.maps.SupportMapFragment"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        />
    ```

    *   在 MainActivity.java 添加以下代码

    ```
    public class MapsMarkerActivity extends AppCompatActivity implements OnMapReadyCallback {
        @Override
        protected void onCreate(Bundle savedInstanceState)
        {
            super.onCreate(savedInstanceState);

            // Retrieve the content view that renders the map.
            setContentView(R.layout.ActivityMain);

            // Get the SupportMapFragment and request notification
            // when the map is ready to be used.
            SupportMapFragment mapFragment = (SupportMapFragment)
                                                 getSupportFragmentManager()
                                                     .findFragmentById(R.id.map);
            mapFragment.getMapAsync(this);
        }
        @Override
        public void onMapReady(GoogleMap googleMap)
        {
            // Add a marker in Sydney, Australia,
            // and move the map's camera to the same location.
            LatLng myPos = new LatLng(Location.getLatitude(), Location.getLongitude());
            googleMap.moveCamera(CameraUpdateFactory.newLatLng(myPos));
        }
    }
    ```

    *   运行代码。